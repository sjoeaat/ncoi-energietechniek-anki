<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="550" xmlns="http://www.w3.org/2000/svg">
  <rect width="700" height="550" fill="white"/>

  <!-- Title -->
  <text x="350" y="30" font-size="20" font-weight="bold" text-anchor="middle">Trapeziumvormige Spanning - Effectieve Waarde</text>

  <!-- Grid background -->
  <defs>
    <pattern id="grid" width="30" height="30" patternUnits="userSpaceOnUse">
      <path d="M 30 0 L 0 0 0 30" fill="none" stroke="#f0f0f0" stroke-width="1"/>
    </pattern>
  </defs>
  <rect x="50" y="60" width="600" height="250" fill="url(#grid)"/>

  <!-- Axes -->
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="black"/>
    </marker>
  </defs>
  <line x1="80" y1="280" x2="650" y2="280" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="80" y1="280" x2="80" y2="50" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Axis labels -->
  <text x="660" y="285" font-size="16" font-weight="bold">t (ms)</text>
  <text x="50" y="45" font-size="16" font-weight="bold">u(t) (V)</text>

  <!-- Voltage waveform - ONE PERIOD ONLY (0-15ms) -->
  <path d="M 80,280 L 234,100 L 388,100 L 542,280"
        stroke="#2196F3" stroke-width="4" fill="none"/>

  <!-- Shaded area under curve -->
  <path d="M 80,280 L 234,100 L 388,100 L 542,280 Z"
        fill="#BBDEFB" opacity="0.4"/>

  <!-- Time markers on x-axis -->
  <line x1="80" y1="280" x2="80" y2="290" stroke="black" stroke-width="2"/>
  <text x="80" y="305" font-size="14" text-anchor="middle">0</text>

  <line x1="234" y1="280" x2="234" y2="290" stroke="black" stroke-width="2"/>
  <text x="234" y="305" font-size="14" text-anchor="middle">5</text>

  <line x1="388" y1="280" x2="388" y2="290" stroke="black" stroke-width="2"/>
  <text x="388" y="305" font-size="14" text-anchor="middle">10</text>

  <line x1="542" y1="280" x2="542" y2="290" stroke="black" stroke-width="2"/>
  <text x="542" y="305" font-size="14" text-anchor="middle">15</text>

  <!-- Voltage markers on y-axis -->
  <line x1="75" y1="280" x2="85" y2="280" stroke="black" stroke-width="2"/>
  <text x="65" y="285" font-size="14" text-anchor="end">0</text>

  <line x1="75" y1="100" x2="85" y2="100" stroke="black" stroke-width="2"/>
  <text x="65" y="105" font-size="14" text-anchor="end">10</text>

  <!-- Dashed horizontal line at 10V level -->
  <line x1="234" y1="100" x2="388" y2="100" stroke="#1976D2" stroke-width="1" stroke-dasharray="5,5"/>

  <!-- Segment labels - OUTSIDE the graph area -->
  <text x="157" y="340" font-size="13" fill="#1976D2" font-weight="bold">Interval 1:</text>
  <text x="145" y="355" font-size="12" fill="#666">0→5 ms: stijgend</text>

  <text x="311" y="340" font-size="13" fill="#1976D2" font-weight="bold">Interval 2:</text>
  <text x="293" y="355" font-size="12" fill="#666">5→10 ms: constant 10V</text>

  <text x="465" y="340" font-size="13" fill="#1976D2" font-weight="bold">Interval 3:</text>
  <text x="455" y="355" font-size="12" fill="#666">10→15 ms: dalend</text>

  <!-- Period marker -->
  <line x1="80" y1="320" x2="542" y2="320" stroke="#F44336" stroke-width="2"/>
  <line x1="80" y1="315" x2="80" y2="325" stroke="#F44336" stroke-width="2"/>
  <line x1="542" y1="315" x2="542" y2="325" stroke="#F44336" stroke-width="2"/>
  <text x="311" y="315" font-size="14" fill="#F44336" font-weight="bold" text-anchor="middle">T = 15 ms</text>

  <!-- Formula box - BELOW the graph -->
  <rect x="80" y="380" width="540" height="150" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="350" y="405" font-size="16" font-weight="bold" text-anchor="middle" fill="#2E7D32">Effectieve waarde berekening:</text>

  <text x="100" y="435" font-size="14" text-anchor="start" fill="#333">
    U<tspan baseline-shift="sub" font-size="10">eff</tspan> = √(1/T ∫<tspan baseline-shift="sub" font-size="10">0</tspan><tspan baseline-shift="super" font-size="10">T</tspan> u²(t) dt)
  </text>

  <text x="100" y="465" font-size="13" text-anchor="start" fill="#555">Interval 0-5 ms:</text>
  <text x="110" y="485" font-size="12" text-anchor="start" fill="#666">u(t) = 2·t  (met t in ms, geeft 0V bij t=0, 10V bij t=5)</text>

  <text x="350" y="465" font-size="13" text-anchor="start" fill="#555">Interval 5-10 ms:</text>
  <text x="360" y="485" font-size="12" text-anchor="start" fill="#666">u(t) = 10V (constant)</text>

  <text x="100" y="510" font-size="13" text-anchor="start" fill="#555">Interval 10-15 ms:</text>
  <text x="110" y="525" font-size="12" text-anchor="start" fill="#666">u(t) = -2·t + 30  (geeft 10V bij t=10, 0V bij t=15)</text>
</svg>
