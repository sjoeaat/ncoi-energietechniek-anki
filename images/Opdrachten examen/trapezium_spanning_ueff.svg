<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="400" xmlns="http://www.w3.org/2000/svg">
  <rect width="700" height="400" fill="white"/>

  <!-- Title -->
  <text x="350" y="30" font-size="20" font-weight="bold" text-anchor="middle">Trapeziumvormige Spanning - U_eff Berekening</text>

  <!-- Grid -->
  <defs>
    <pattern id="grid2" width="30" height="30" patternUnits="userSpaceOnUse">
      <path d="M 30 0 L 0 0 0 30" fill="none" stroke="#f0f0f0" stroke-width="1"/>
    </pattern>
  </defs>
  <rect x="50" y="60" width="600" height="250" fill="url(#grid2)"/>

  <!-- Axes -->
  <line x1="80" y1="280" x2="650" y2="280" stroke="black" stroke-width="2" marker-end="url(#arr)"/>
  <line x1="80" y1="280" x2="80" y2="70" stroke="black" stroke-width="2" marker-end="url(#arr)"/>

  <defs>
    <marker id="arr" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="black"/>
    </marker>
  </defs>

  <!-- Axis labels -->
  <text x="655" y="295" font-size="16" font-weight="bold">t (ms)</text>
  <text x="55" y="65" font-size="16" font-weight="bold">u(t) (V)</text>

  <!-- Voltage waveform (trapezoidal) -->
  <path d="M 80,280 L 190,100 L 300,100 L 410,280 L 520,100 L 630,100"
        stroke="#2196F3" stroke-width="4" fill="none"/>

  <!-- Shaded area under curve -->
  <path d="M 80,280 L 190,100 L 300,100 L 410,280 Z"
        fill="#BBDEFB" opacity="0.5"/>

  <!-- Time markers -->
  <line x1="80" y1="280" x2="80" y2="290" stroke="black" stroke-width="2"/>
  <text x="75" y="305" font-size="14" text-anchor="middle">0</text>

  <line x1="190" y1="280" x2="190" y2="290" stroke="black" stroke-width="2"/>
  <text x="190" y="305" font-size="14" text-anchor="middle">5</text>

  <line x1="300" y1="280" x2="300" y2="290" stroke="black" stroke-width="2"/>
  <text x="300" y="305" font-size="14" text-anchor="middle">10</text>

  <line x1="410" y1="280" x2="410" y2="290" stroke="black" stroke-width="2"/>
  <text x="410" y="305" font-size="14" text-anchor="middle">15</text>

  <line x1="520" y1="280" x2="520" y2="290" stroke="black" stroke-width="2"/>
  <text x="520" y="305" font-size="14" text-anchor="middle">20</text>

  <!-- Voltage markers -->
  <line x1="75" y1="280" x2="85" y2="280" stroke="black" stroke-width="2"/>
  <text x="60" y="285" font-size="14" text-anchor="end">0</text>

  <line x1="75" y1="100" x2="85" y2="100" stroke="black" stroke-width="2"/>
  <text x="60" y="105" font-size="14" text-anchor="end">10</text>

  <!-- Dashed lines for 10V level -->
  <line x1="80" y1="100" x2="300" y2="100" stroke="#1976D2" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="520" y1="100" x2="630" y2="100" stroke="#1976D2" stroke-width="1" stroke-dasharray="5,5"/>

  <!-- Labels for segments -->
  <text x="135" y="190" font-size="13" fill="#1976D2" font-weight="bold">Stijgend</text>
  <text x="120" y="205" font-size="12" fill="#1976D2">0V → 10V</text>

  <text x="230" y="85" font-size="13" fill="#1976D2" font-weight="bold">Constant</text>
  <text x="230" y="100" font-size="12" fill="#1976D2">10V</text>

  <text x="340" y="190" font-size="13" fill="#1976D2" font-weight="bold">Dalend</text>
  <text x="330" y="205" font-size="12" fill="#1976D2">10V → 0V</text>

  <!-- Period marker -->
  <line x1="80" y1="320" x2="410" y2="320" stroke="#F44336" stroke-width="2"/>
  <line x1="80" y1="315" x2="80" y2="325" stroke="#F44336" stroke-width="2"/>
  <line x1="410" y1="315" x2="410" y2="325" stroke="#F44336" stroke-width="2"/>
  <text x="245" y="340" font-size="14" fill="#F44336" font-weight="bold" text-anchor="middle">T = 15 ms</text>

  <!-- Formula box -->
  <rect x="450" y="120" width="220" height="130" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="560" y="145" font-size="14" font-weight="bold" text-anchor="middle" fill="#2E7D32">U_eff berekenen:</text>
  <text x="470" y="170" font-size="13" text-anchor="start" fill="#333">U_eff = √(1/T ∫₀ᵀ u²(t) dt)</text>
  <text x="470" y="195" font-size="12" text-anchor="start" fill="#666">Interval 0-5ms: u(t) = 2t</text>
  <text x="470" y="215" font-size="12" text-anchor="start" fill="#666">Interval 5-10ms: u(t) = 10</text>
  <text x="470" y="235" font-size="12" text-anchor="start" fill="#666">Interval 10-15ms: u(t) = -2t+30</text>
</svg>