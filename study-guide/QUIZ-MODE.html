<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Quiz Mode - NCOI Energietechniek</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
        }

        .header h1 {
            color: #1e3c72;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .stats-bar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .quiz-card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            min-height: 400px;
        }

        .question-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .question-number {
            font-size: 1.2em;
            font-weight: bold;
        }

        .question-chapter {
            opacity: 0.9;
        }

        .question-content {
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 30px;
            color: #333;
        }

        .answer-section {
            margin-top: 30px;
        }

        .answer-content {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #4caf50;
            display: none;
        }

        .answer-content.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .button-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 30px;
        }

        button {
            padding: 15px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-show {
            background: #667eea;
            color: white;
        }

        .btn-show:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102,126,234,0.4);
        }

        .btn-correct {
            background: #4caf50;
            color: white;
        }

        .btn-correct:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76,175,80,0.4);
        }

        .btn-wrong {
            background: #f44336;
            color: white;
        }

        .btn-wrong:hover {
            background: #da190b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(244,67,54,0.4);
        }

        .btn-next {
            background: #ff9800;
            color: white;
            grid-column: span 3;
        }

        .btn-next:hover {
            background: #fb8c00;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,152,0,0.4);
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s ease;
        }

        .filter-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .filter-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .filter-btn {
            padding: 10px 15px;
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .filter-btn:hover {
            border-color: #667eea;
        }

        .end-screen {
            text-align: center;
            padding: 50px;
            display: none;
        }

        .end-screen.show {
            display: block;
        }

        .end-score {
            font-size: 4em;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 50px;
            font-size: 1.3em;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 30px;
        }

        .restart-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(102,126,234,0.4);
        }

        @media (max-width: 768px) {
            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .button-group {
                grid-template-columns: 1fr;
            }

            .btn-next {
                grid-column: span 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Quiz Mode</h1>
            <p>Test je kennis van Energietechniek!</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-number" id="currentQuestion">0</div>
                <div class="stat-label">Vraag</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="totalQuestions">0</div>
                <div class="stat-label">Totaal</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="correctCount">0</div>
                <div class="stat-label">Correct</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="accuracy">0%</div>
                <div class="stat-label">Score</div>
            </div>
        </div>

        <div class="filter-section">
            <h3 style="margin-bottom: 10px;">üìö Filter op Hoofdstuk:</h3>
            <div class="filter-group" id="chapterFilters">
                <button class="filter-btn active" data-filter="all">Alle Hoofdstukken</button>
                <button class="filter-btn" data-filter="h19">H 1.9</button>
                <button class="filter-btn" data-filter="h26">H 2.6</button>
                <button class="filter-btn" data-filter="h311">H 3.11</button>
                <button class="filter-btn" data-filter="h44">H 4.4</button>
                <button class="filter-btn" data-filter="h78">H 7.8</button>
                <button class="filter-btn" data-filter="h97">H 9.7</button>
            </div>
        </div>

        <div class="quiz-card" id="quizCard">
            <div class="question-header">
                <span class="question-number" id="questionLabel">Vraag 1/10</span>
                <span class="question-chapter" id="chapterLabel">H 1.9</span>
            </div>

            <div class="question-content" id="questionText">
                Laden...
            </div>

            <div class="answer-section">
                <button class="btn-show" id="showAnswerBtn" onclick="showAnswer()">
                    üìñ Toon Antwoord
                </button>

                <div class="answer-content" id="answerContent">
                    <h3 style="margin-bottom: 15px;">‚úÖ Antwoord:</h3>
                    <p id="answerText"></p>
                </div>

                <div class="button-group" id="ratingButtons" style="display: none;">
                    <button class="btn-correct" onclick="markAnswer(true)">
                        ‚úì Correct
                    </button>
                    <button class="btn-wrong" onclick="markAnswer(false)">
                        ‚úó Fout
                    </button>
                    <button class="btn-next" onclick="nextQuestion()">
                        Volgende Vraag ‚Üí
                    </button>
                </div>
            </div>
        </div>

        <div class="end-screen" id="endScreen">
            <h2 style="font-size: 2em; color: #667eea;">üéâ Quiz Voltooid!</h2>
            <div class="end-score" id="finalScore">0%</div>
            <p style="font-size: 1.2em; color: #666; margin-bottom: 10px;">
                Je hebt <span id="finalCorrect">0</span> van de <span id="finalTotal">0</span> vragen goed!
            </p>
            <button class="restart-btn" onclick="restartQuiz()">
                üîÑ Opnieuw Beginnen
            </button>
        </div>
    </div>

    <script>
        // Quiz data - SAMPLE QUESTIONS (kan uitgebreid worden met alle opgaven)
        const questions = [
            {
                chapter: 'h19',
                chapterLabel: 'H 1.9',
                question: 'Een zaklantaarn met 3 batterijen van elk 1,5V geeft een stroom van 0,3A. Bereken de totale weerstand van de lamp.',
                answer: 'U_totaal = 3 √ó 1,5V = 4,5V<br>R = U/I = 4,5V / 0,3A = <b>15 Œ©</b><br><br>Fysische interpretatie: De lamp heeft een weerstand van 15Œ©. Bij hogere spanning (meer batterijen) zou dezelfde lamp meer stroom trekken volgens de wet van Ohm.'
            },
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Drie weerstanden van 10Œ©, 20Œ© en 30Œ© staan in serie. Bereken de totale weerstand.',
                answer: 'In serie: R_totaal = R‚ÇÅ + R‚ÇÇ + R‚ÇÉ<br>R_totaal = 10 + 20 + 30 = <b>60 Œ©</b><br><br>Fysische interpretatie: In een serieschakeling tellen alle weerstanden gewoon bij elkaar op. De stroom moet door alle weerstanden heen, dus de totale weerstand is de som.'
            },
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Twee weerstanden van 10Œ© en 40Œ© staan parallel. Bereken de totale weerstand.',
                answer: '1/R_totaal = 1/R‚ÇÅ + 1/R‚ÇÇ<br>1/R_totaal = 1/10 + 1/40 = 4/40 + 1/40 = 5/40<br>R_totaal = 40/5 = <b>8 Œ©</b><br><br>Snelle methode: R_totaal = (R‚ÇÅ√óR‚ÇÇ)/(R‚ÇÅ+R‚ÇÇ) = (10√ó40)/(10+40) = 400/50 = 8Œ©'
            },
            {
                chapter: 'h44',
                chapterLabel: 'H 4.4',
                question: 'Een verwarmingselement heeft een vermogen van 2000W bij 230V. Bereken de weerstand.',
                answer: 'P = U¬≤/R ‚Üí R = U¬≤/P<br>R = 230¬≤ / 2000<br>R = 52900 / 2000 = <b>26,45 Œ©</b><br><br>Verificatie: P = U¬≤/R = 230¬≤/26,45 ‚âà 2000W ‚úì'
            },
            {
                chapter: 'h311',
                chapterLabel: 'H 3.11',
                question: 'Wat is het superpositieprincipe in netwerkanalyse?',
                answer: '<b>Superpositieprincipe:</b><br>Analyseer elke bron (spanning/stroom) afzonderlijk terwijl andere bronnen "uit" staan:<br>‚Ä¢ Spanningsbronnen ‚Üí kortsluiten (0V)<br>‚Ä¢ Stroombronnen ‚Üí open maken (0A)<br><br>Tel daarna alle individuele bijdragen op.<br><br>Geldt alleen voor <b>lineaire</b> netwerken!'
            },
            {
                chapter: 'h44',
                chapterLabel: 'H 4.4',
                question: 'Bij welke belastingsweerstand wordt maximaal vermogen overgedragen van een Th√©venin equivalent?',
                answer: '<b>Vermogensaanpassingstheorema:</b><br>Maximaal vermogen in de belasting treedt op wanneer:<br><b>R_belasting = R_Th√©venin</b><br><br>Het rendement is dan altijd <b>50%</b> (helft in bron, helft in last).<br><br>Voor hoog rendement: R_belasting >> R_Th√©venin'
            },
            {
                chapter: 'h78',
                chapterLabel: 'H 7.8',
                question: 'Wat is de impedantie van een condensator van 10ŒºF bij 50Hz?',
                answer: 'Z_C = 1/(2œÄfC)<br>Z_C = 1/(2œÄ √ó 50 √ó 10√ó10‚Åª‚Å∂)<br>Z_C = 1/(3,14√ó10‚Åª¬≥)<br>Z_C = <b>318,3 Œ©</b> (capacitief, -j318,3)<br><br>Hogere frequentie ‚Üí lagere impedantie!'
            },
            {
                chapter: 'h97',
                chapterLabel: 'H 9.7',
                question: 'Een spoel van 20mH heeft bij 7950Hz een reactantie X_L. Bereken X_L.',
                answer: 'X_L = 2œÄfL<br>X_L = 2œÄ √ó 7950 √ó 20√ó10‚Åª¬≥<br>X_L = 2œÄ √ó 7950 √ó 0,02<br>X_L = <b>999 Œ©</b> ‚âà 1 kŒ© (inductief, +j999)<br><br>Hogere frequentie ‚Üí hogere impedantie bij spoelen!'
            },
            {
                chapter: 'h19',
                chapterLabel: 'H 1.9',
                question: 'Wat zegt de wet van Kirchhoff (KCL) over stromen in een knooppunt?',
                answer: '<b>Kirchhoff Knooppuntwet (KCL):</b><br>De som van alle stromen naar een knooppunt = 0<br><br>Œ£ I_in = Œ£ I_out<br><br>Dit volgt uit het <b>behoud van lading</b>: stroom kan niet zomaar verdwijnen of ontstaan in een knooppunt.'
            },
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Waarom worden twee 100Œ© weerstanden parallel vaak gebruikt in plaats van √©√©n 50Œ©?',
                answer: '<b>Praktische redenen:</b><br>1. <b>Vermogenspreiding:</b> Elke weerstand draagt helft van het vermogen<br>2. <b>Beschikbaarheid:</b> 100Œ© is een standaard waarde<br>3. <b>Redundantie:</b> Als √©√©n kapot gaat, werkt circuit nog (100Œ© ipv 50Œ©)<br>4. <b>Dissipatie:</b> Betere warmteafvoer met twee componenten'
            },
            // Additional questions H 1.9
            {
                chapter: 'h19',
                chapterLabel: 'H 1.9',
                question: 'Een batterij levert 12V aan een weerstand van 4Œ©. Bereken het vermogen.',
                answer: 'P = U¬≤/R<br>P = 12¬≤ / 4<br>P = 144 / 4 = <b>36 W</b><br><br>Alternatief: P = U√óI = 12√ó3 = 36W (waarbij I = U/R = 12/4 = 3A)'
            },
            {
                chapter: 'h19',
                chapterLabel: 'H 1.9',
                question: 'Een stroom van 2,5A vloeit door een weerstand van 20Œ©. Wat is de spanningsval?',
                answer: 'U = I √ó R<br>U = 2,5 √ó 20<br>U = <b>50 V</b><br><br>Dit is directe toepassing van de wet van Ohm.'
            },
            {
                chapter: 'h19',
                chapterLabel: 'H 1.9',
                question: 'Wat zegt Kirchhoffs spanningswet (KVL)?',
                answer: '<b>Kirchhoff Spanningswet (KVL):</b><br>De som van alle spanningen in een gesloten maas = 0<br><br>Œ£ U_maas = 0<br><br>Dit volgt uit <b>behoud van energie</b>: als je een rondje loopt, eindig je op hetzelfde potentiaal.'
            },
            {
                chapter: 'h19',
                chapterLabel: 'H 1.9',
                question: 'Een LED met 2,1V en 20mA. Bereken de voorschakelweerstand voor 9V batterij.',
                answer: 'Spanningsval over R: U_R = 9V - 2,1V = 6,9V<br>R = U/I = 6,9 / 0,02<br>R = <b>345 Œ©</b><br><br>Praktijk: gebruik 330Œ© (standaard waarde) of 390Œ©'
            },
            // Additional questions H 2.6
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Drie weerstanden (100Œ©, 200Œ©, 300Œ©) in serie. Bereken totaal.',
                answer: 'R_serie = R‚ÇÅ + R‚ÇÇ + R‚ÇÉ<br>R_totaal = 100 + 200 + 300<br>R_totaal = <b>600 Œ©</b><br><br>Serie: weerstanden tellen gewoon op!'
            },
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Een spanningsdeler: 12V over 3kŒ© en 1kŒ© in serie. Spanning over 1kŒ©?',
                answer: 'U_1kŒ© = U_totaal √ó (R‚ÇÅ/R_totaal)<br>U_1kŒ© = 12 √ó (1000/4000)<br>U_1kŒ© = 12 √ó 0,25 = <b>3 V</b><br><br>Let op: R_totaal = 3kŒ© + 1kŒ© = 4kŒ©'
            },
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Drie gelijke weerstanden (R) parallel. Wat is R_totaal?',
                answer: '1/R_totaal = 1/R + 1/R + 1/R = 3/R<br>R_totaal = R/3<br><br><b>Regel:</b> n gelijke weerstanden parallel ‚Üí R_totaal = R/n<br><br>Voorbeeld: 3√ó60Œ© parallel = 20Œ©'
            },
            {
                chapter: 'h26',
                chapterLabel: 'H 2.6',
                question: 'Wat is geleidbaarheid (G) en wat is de eenheid?',
                answer: '<b>Geleidbaarheid (conductance):</b><br>G = 1/R<br><br>Eenheid: <b>Siemens (S)</b> of mho (∆±)<br><br>Bij parallel schakeling: G_totaal = G‚ÇÅ + G‚ÇÇ + G‚ÇÉ<br><br>Dit is makkelijker dan reciproke optellen!'
            },
            // Additional questions H 3.11
            {
                chapter: 'h311',
                chapterLabel: 'H 3.11',
                question: 'Een netwerk heeft open-klem spanning 10V en kortsluitstroom 2A. Bereken R_Th√©venin.',
                answer: 'R_th = U_open / I_kortsluit<br>R_th = 10 / 2<br>R_th = <b>5 Œ©</b><br><br>Th√©venin weerstand is de <b>interne weerstand</b> van het equivalent.'
            },
            {
                chapter: 'h311',
                chapterLabel: 'H 3.11',
                question: 'Wat is het verschil tussen Th√©venin en Norton equivalent?',
                answer: '<b>Th√©venin:</b> Spanningsbron U_th in serie met R_th<br><b>Norton:</b> Stroombron I_N parallel met R_N<br><br>Relaties:<br>‚Ä¢ R_th = R_N<br>‚Ä¢ U_th = I_N √ó R_th<br><br>Beide equivalenten beschrijven hetzelfde netwerk!'
            },
            {
                chapter: 'h311',
                chapterLabel: 'H 3.11',
                question: 'Wanneer gebruik je superpositie ipv Th√©venin?',
                answer: '<b>Superpositie:</b><br>‚úì Meerdere bronnen<br>‚úì Stroom/spanning door specifiek element vinden<br>‚úì Lineair netwerk<br><br><b>Th√©venin:</b><br>‚úì Belasting verandert vaak<br>‚úì Maximaal vermogen berekenen<br>‚úì Netwerk vereenvoudigen'
            },
            {
                chapter: 'h311',
                chapterLabel: 'H 3.11',
                question: 'Wat is een gecontroleerde (afhankelijke) bron?',
                answer: '<b>Gecontroleerde bron:</b> Output hangt af van stroom/spanning elders in circuit.<br><br>Types:<br>‚Ä¢ VCVS: spanning-gestuurde spanningsbron<br>‚Ä¢ VCCS: spanning-gestuurde stroombron<br>‚Ä¢ CCVS: stroom-gestuurde spanningsbron<br>‚Ä¢ CCCS: stroom-gestuurde stroombron<br><br>Veel gebruikt in transistor/opamp modellen!'
            },
            // Additional questions H 4.4
            {
                chapter: 'h44',
                chapterLabel: 'H 4.4',
                question: 'Een apparaat van 1500W draait 3 uur per dag. Energieverbruik per maand (30 dagen)?',
                answer: 'E = P √ó t<br>E_dag = 1500W √ó 3h = 4500 Wh = 4,5 kWh<br>E_maand = 4,5 √ó 30 = <b>135 kWh</b><br><br>Kosten (‚Ç¨0,30/kWh): 135 √ó 0,30 = ‚Ç¨40,50'
            },
            {
                chapter: 'h44',
                chapterLabel: 'H 4.4',
                question: 'Wat is rendement en hoe bereken je het?',
                answer: '<b>Rendement (Œ∑):</b><br>Œ∑ = P_nuttig / P_totaal<br><br>Of: Œ∑ = P_totaal - P_verlies / P_totaal<br><br>Eenheid: - (tussen 0 en 1) of % (0-100%)<br><br>Voorbeeld: 90% rendement ‚Üí 10% verlies'
            },
            {
                chapter: 'h44',
                chapterLabel: 'H 4.4',
                question: 'Motor trekt 2300W uit het net, levert 2000W mechanisch. Bereken rendement.',
                answer: 'Œ∑ = P_nuttig / P_totaal<br>Œ∑ = 2000 / 2300<br>Œ∑ = 0,87 = <b>87%</b><br><br>Verlies: 2300 - 2000 = 300W (warmte)'
            },
            {
                chapter: 'h44',
                chapterLabel: 'H 4.4',
                question: 'Waarom is rendement bij vermogensaanpassing altijd 50%?',
                answer: 'Bij R_last = R_bron:<br>‚Ä¢ Helft spanning over R_bron<br>‚Ä¢ Helft spanning over R_last<br>‚Ä¢ P_bron = P_last (gelijk!)<br><br>Œ∑ = P_last / (P_bron + P_last) = P / 2P = 50%<br><br>Maximaal vermogen ‚â† maximaal rendement!'
            },
            // Additional questions H 5.5
            {
                chapter: 'h55',
                chapterLabel: 'H 5.5',
                question: 'Een sinusvormige spanning heeft topwaarde 325V. Bereken effectieve waarde.',
                answer: 'U_eff = U_top / ‚àö2<br>U_eff = 325 / 1,414<br>U_eff = <b>230 V</b><br><br>Dit is de Nederlandse netspanning!'
            },
            {
                chapter: 'h55',
                chapterLabel: 'H 5.5',
                question: 'Wat is de frequentie van netspanning in Europa?',
                answer: '<b>50 Hz</b><br><br>Periode: T = 1/f = 1/50 = 0,02 s = 20 ms<br><br>VS/Canada: 60 Hz<br>Hoekfrequentie: œâ = 2œÄf = 314 rad/s'
            },
            {
                chapter: 'h55',
                chapterLabel: 'H 5.5',
                question: 'Wat is het verschil tussen top-, effectieve en gemiddelde waarde?',
                answer: '<b>Topwaarde (U_top):</b> Maximale waarde<br><b>Effectieve waarde (U_eff):</b> U_top/‚àö2 ‚Üí vermogen equiv. DC<br><b>Gemiddelde waarde (U_gem):</b> 2√óU_top/œÄ ‚Üí gelijkrichtwaarde<br><br>Voor sinus: U_eff/U_gem = œÄ/(2‚àö2) ‚âà 1,11 (vormfactor)'
            },
            {
                chapter: 'h55',
                chapterLabel: 'H 5.5',
                question: 'Een signaal heeft periode van 25 ms. Wat is de frequentie?',
                answer: 'f = 1/T<br>f = 1 / 0,025<br>f = <b>40 Hz</b><br><br>Let op eenheden: 25 ms = 0,025 s'
            },
            // Additional questions H 6.8
            {
                chapter: 'h68',
                chapterLabel: 'H 6.8',
                question: 'Condensator van 100ŒºF wordt geladen naar 12V. Hoeveel lading (Q)?',
                answer: 'Q = C √ó U<br>Q = 100√ó10‚Åª‚Å∂ √ó 12<br>Q = 1,2√ó10‚Åª¬≥ = <b>1,2 mC</b><br><br>Coulomb (C) is eenheid van lading.'
            },
            {
                chapter: 'h68',
                chapterLabel: 'H 6.8',
                question: 'Hoeveel energie in condensator van 470ŒºF bij 400V?',
                answer: 'E = ¬Ω √ó C √ó U¬≤<br>E = 0,5 √ó 470√ó10‚Åª‚Å∂ √ó 400¬≤<br>E = 0,5 √ó 470√ó10‚Åª‚Å∂ √ó 160000<br>E = <b>37,6 J</b><br><br>‚ö†Ô∏è Gevaarlijk! Kan schok geven.'
            },
            {
                chapter: 'h68',
                chapterLabel: 'H 6.8',
                question: 'Waarom blokkeert een condensator DC maar laat AC door?',
                answer: '<b>DC (f=0):</b><br>X_C = 1/(2œÄfC) ‚Üí oneindig ‚Üí open circuit<br><br><b>AC (f>0):</b><br>X_C heeft eindige waarde ‚Üí stroom kan vloeien<br><br>Hogere frequentie ‚Üí lagere impedantie ‚Üí meer stroom!'
            },
            {
                chapter: 'h68',
                chapterLabel: 'H 6.8',
                question: 'Spoel van 50mH, stroom stijgt met 100A/s. Bereken ge√Ønduceerde spanning.',
                answer: 'U = L √ó dI/dt<br>U = 50√ó10‚Åª¬≥ √ó 100<br>U = <b>5 V</b><br><br>Spoel verzet zich tegen stroomverandering (Lenz wet).'
            },
            // Additional questions H 7.8
            {
                chapter: 'h78',
                chapterLabel: 'H 7.8',
                question: 'Serie RLC: R=10Œ©, X_L=20Œ©, X_C=15Œ©. Bereken impedantie.',
                answer: 'Z = R + j(X_L - X_C)<br>Z = 10 + j(20 - 15)<br>Z = 10 + j5<br><br>|Z| = ‚àö(R¬≤ + X¬≤) = ‚àö(100 + 25) = ‚àö125 = <b>11,2 Œ©</b><br>œÜ = arctan(5/10) = 26,6¬∞ (inductief)'
            },
            {
                chapter: 'h78',
                chapterLabel: 'H 7.8',
                question: 'Bij welke frequentie treedt resonantie op in serie RLC?',
                answer: '<b>Resonantiefrequentie:</b><br>f_res = 1 / (2œÄ‚àö(LC))<br><br>Bij resonantie:<br>‚Ä¢ X_L = X_C<br>‚Ä¢ Z = R (minimaal!)<br>‚Ä¢ cos œÜ = 1 (in fase)<br>‚Ä¢ Maximale stroom'
            },
            {
                chapter: 'h78',
                chapterLabel: 'H 7.8',
                question: 'Wat is de fasehoek bij zuiver capacitieve belasting?',
                answer: '<b>Zuiver capacitief (alleen C, geen R):</b><br>œÜ = -90¬∞ = -œÄ/2 rad<br><br>Stroom <b>loopt voor</b> op spanning.<br><br>Onthouden: "ICE" ‚Üí In Capacitor, I leads (stroom voorop)'
            },
            {
                chapter: 'h78',
                chapterLabel: 'H 7.8',
                question: 'Wat gebeurt met impedantie van spoel bij hogere frequentie?',
                answer: 'X_L = 2œÄfL<br><br>Hogere f ‚Üí hogere X_L ‚Üí hogere impedantie!<br><br>Bij DC (f=0): X_L = 0 (kortsluiting)<br>Bij hoge f: X_L ‚Üí oneindig (open)<br><br>Spoel is <b>hoogdoorlaatfilter</b>'
            },
            // Additional questions H 9.7
            {
                chapter: 'h97',
                chapterLabel: 'H 9.7',
                question: 'Complexe impedantie Z = 30 + j40 Œ©. Bereken magnitude en fase.',
                answer: '|Z| = ‚àö(R¬≤ + X¬≤) = ‚àö(30¬≤ + 40¬≤) = ‚àö(900 + 1600) = ‚àö2500 = <b>50 Œ©</b><br><br>œÜ = arctan(X/R) = arctan(40/30) = <b>53,1¬∞</b> (inductief)<br><br>Polair: Z = 50‚à†53,1¬∞'
            },
            {
                chapter: 'h97',
                chapterLabel: 'H 9.7',
                question: 'Twee impedanties parallel: Z1=20‚à†30¬∞ en Z2=40‚à†-45¬∞. Hoe bereken je Z_totaal?',
                answer: '<b>Parallel in complex:</b><br>1/Z_totaal = 1/Z‚ÇÅ + 1/Z‚ÇÇ<br><br>Stappen:<br>1. Converteer naar rechthoekig<br>2. Bereken 1/Z‚ÇÅ en 1/Z‚ÇÇ<br>3. Tel admittanties op<br>4. Neem reciproke<br><br>Of: Z_totaal = (Z‚ÇÅ√óZ‚ÇÇ)/(Z‚ÇÅ+Z‚ÇÇ) in polair'
            },
            {
                chapter: 'h97',
                chapterLabel: 'H 9.7',
                question: 'Wat betekent de imaginaire eenheid j in elektrotechniek?',
                answer: '<b>j = ‚àö(-1)</b> (wiskunde gebruikt i)<br><br>j¬≤ = -1<br><br>Gebruikt om <b>faserotatie</b> aan te geven:<br>‚Ä¢ √ój ‚Üí 90¬∞ vooruit (tegen klok in)<br>‚Ä¢ √∑j = √ó(-j) ‚Üí 90¬∞ achteruit<br><br>Capaciteit: Z_C = -j√óX_C (90¬∞ achter)<br>Inductie: Z_L = +j√óX_L (90¬∞ voor)'
            },
            {
                chapter: 'h97',
                chapterLabel: 'H 9.7',
                question: 'Bereken 5‚à†30¬∞ √ó 4‚à†60¬∞ in polaire vorm.',
                answer: '<b>Vermenigvuldigen in polair:</b><br>Magnitude: 5 √ó 4 = 20<br>Fase: 30¬∞ + 60¬∞ = 90¬∞<br><br>Resultaat: <b>20‚à†90¬∞</b> = 0 + j20<br><br>Regel: (r‚ÇÅ‚à†Œ∏‚ÇÅ) √ó (r‚ÇÇ‚à†Œ∏‚ÇÇ) = (r‚ÇÅ√ór‚ÇÇ)‚à†(Œ∏‚ÇÅ+Œ∏‚ÇÇ)'
            },
            // Additional questions H 11.7
            {
                chapter: 'h117',
                chapterLabel: 'H 11.7',
                question: 'Motor: U=400V, I=10A, cos œÜ=0,8. Bereken P, Q, S.',
                answer: '<b>Schijnbaar vermogen:</b> S = U√óI = 400√ó10 = 4000 VA = 4 kVA<br><b>Werkelijk vermogen:</b> P = S√ócos œÜ = 4000√ó0,8 = 3200 W = 3,2 kW<br><b>Blindvermogen:</b> Q = S√ósin œÜ = 4000√ó0,6 = 2400 VAR = 2,4 kVAR<br><br>Verificatie: S¬≤ = P¬≤ + Q¬≤ ‚úì'
            },
            {
                chapter: 'h117',
                chapterLabel: 'H 11.7',
                question: 'Waarom compenseer je blindvermogen?',
                answer: '<b>Redenen:</b><br>1. Lagere stroombelasting kabels/transformator<br>2. Lagere I¬≤R verliezen<br>3. Betere spanningsregulatie<br>4. Vermijd boetes energiebedrijf<br>5. Lagere tarieven<br><br>Methode: Condensator parallel ‚Üí Q_capacitief compenseert Q_inductief'
            },
            {
                chapter: 'h117',
                chapterLabel: 'H 11.7',
                question: 'Installatie: P=50kW, cos œÜ‚ÇÅ=0,7. Doel: cos œÜ‚ÇÇ=0,95. Bereken benodigde Q_C.',
                answer: 'Q‚ÇÅ = P √ó tan(arccos(0,7)) = 50 √ó 1,02 = 51 kVAR<br>Q‚ÇÇ = P √ó tan(arccos(0,95)) = 50 √ó 0,33 = 16,5 kVAR<br><br>Q_C = Q‚ÇÅ - Q‚ÇÇ = 51 - 16,5 = <b>34,5 kVAR</b> condensator nodig<br><br>Bij 400V driefase: C ‚âà 310 ŒºF'
            }
        ];

        // Quiz state
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let answeredQuestions = 0;
        let activeFilter = 'all';
        let filteredQuestions = [...questions];

        // Initialize
        function init() {
            updateFilters();
            loadQuestion();
            updateStats();
        }

        // Filter logic
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                activeFilter = this.dataset.filter;
                applyFilter();
            });
        });

        function applyFilter() {
            if (activeFilter === 'all') {
                filteredQuestions = [...questions];
            } else {
                filteredQuestions = questions.filter(q => q.chapter === activeFilter);
            }
            currentQuestionIndex = 0;
            correctAnswers = 0;
            answeredQuestions = 0;
            loadQuestion();
            updateStats();
        }

        function updateFilters() {
            document.getElementById('totalQuestions').textContent = filteredQuestions.length;
        }

        function loadQuestion() {
            if (currentQuestionIndex >= filteredQuestions.length) {
                showEndScreen();
                return;
            }

            const q = filteredQuestions[currentQuestionIndex];
            document.getElementById('questionLabel').textContent = `Vraag ${currentQuestionIndex + 1}/${filteredQuestions.length}`;
            document.getElementById('chapterLabel').textContent = q.chapterLabel;
            document.getElementById('questionText').textContent = q.question;
            document.getElementById('answerText').innerHTML = q.answer;

            // Reset UI
            document.getElementById('answerContent').classList.remove('show');
            document.getElementById('showAnswerBtn').style.display = 'block';
            document.getElementById('ratingButtons').style.display = 'none';

            updateProgress();
            updateStats();
        }

        function showAnswer() {
            document.getElementById('answerContent').classList.add('show');
            document.getElementById('showAnswerBtn').style.display = 'none';
            document.getElementById('ratingButtons').style.display = 'grid';
        }

        function markAnswer(isCorrect) {
            if (isCorrect) {
                correctAnswers++;
            }
            answeredQuestions++;
            updateStats();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function updateStats() {
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = filteredQuestions.length;
            document.getElementById('correctCount').textContent = correctAnswers;

            const accuracy = answeredQuestions > 0
                ? Math.round((correctAnswers / answeredQuestions) * 100)
                : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        function updateProgress() {
            const progress = (currentQuestionIndex / filteredQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function showEndScreen() {
            document.getElementById('quizCard').style.display = 'none';
            document.getElementById('endScreen').classList.add('show');

            const finalAccuracy = answeredQuestions > 0
                ? Math.round((correctAnswers / answeredQuestions) * 100)
                : 0;

            document.getElementById('finalScore').textContent = finalAccuracy + '%';
            document.getElementById('finalCorrect').textContent = correctAnswers;
            document.getElementById('finalTotal').textContent = answeredQuestions;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            answeredQuestions = 0;
            document.getElementById('quizCard').style.display = 'block';
            document.getElementById('endScreen').classList.remove('show');
            loadQuestion();
        }

        // Start quiz
        init();
    </script>
</body>
</html>
